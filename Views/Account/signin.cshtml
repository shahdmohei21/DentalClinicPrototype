@{
    Layout = null;
}

@model DentalClinicPrototype.Models.LoginViewModel

@{
    ViewData["Title"] = "Sign In - Hope Clinic";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>

    <link rel="stylesheet" href="~/css/css2/style.css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet">
</head>
<body>

    <section class="sign-in">
        <div class="container">
            <div class="signin-content">

                <div class="signin-image">
                    <figure><img src="~/images/hope clinic icon.png" alt="Sign in image"></figure>
                    <a asp-action="signup" asp-controller="Account" class="form-submit">Create an Account</a>

                </div>

                <form asp-action="Signin" asp-controller="Account" method="post" class="register-form" id="login-form">

                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <div class="form-group">
                        <label asp-for="Email"><i class="zmdi zmdi-email"></i></label>
                        <input asp-for="Email" type="email" id="email" placeholder="Your Email" required />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="Password"><i class="zmdi zmdi-lock"></i></label>
                        <input asp-for="Password" type="password" id="your_pass" placeholder="Password" required />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>

                    <div class="form-group form-button">
                        <button type="submit" class="form-submit" id="login-button">Login</button>
                    </div>

                </form>


            </div>
        </div>
    </section>

    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
    }

    <!-- Scripts -->
    <script src="~/vendor2/jquery/jquery.min.js"></script>
    <script src="~/js2/main.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const emailInput = document.getElementById("email");
            const passwordInput = document.getElementById("your_pass");
            const rememberMeCheckbox = document.getElementById("remember-me");

            // Load saved credentials
            if (localStorage.getItem("rememberMe") === "true") {
                emailInput.value = localStorage.getItem("savedEmail") || "";
                passwordInput.value = localStorage.getItem("savedPassword") || "";
                rememberMeCheckbox.checked = true;
            }

            // Save credentials on submit
            document.getElementById("login-form").addEventListener("submit", function () {
                if (rememberMeCheckbox.checked) {
                    localStorage.setItem("savedEmail", emailInput.value);
                    localStorage.setItem("savedPassword", passwordInput.value);
                    localStorage.setItem("rememberMe", "true");
                } else {
                    localStorage.removeItem("savedEmail");
                    localStorage.removeItem("savedPassword");
                    localStorage.setItem("rememberMe", "false");
                }
            });

            // Toggle password visibility
            document.querySelectorAll('.toggle-password').forEach(function (toggle) {
                toggle.addEventListener('click', function () {
                    const input = document.querySelector(toggle.getAttribute('toggle'));
                    if (input.type === "password") {
                        input.type = "text";
                        toggle.classList.add('zmdi-eye-off');
                    } else {
                        input.type = "password";
                        toggle.classList.remove('zmdi-eye-off');
                    }
                });
            });
        });
    </script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

</body>
</html>